<app-nav-bar [usuarioConectado]="usuarioConectado"></app-nav-bar>
<div class="container" style="margin-top: 100px;">
  <main>
    <div class="py-5 text-center" >
      <img class="d-block mx-auto mb-4" src="../../../../assets/images/icons/users2.png" alt="" width="100px" height="100px"  />
      <h2>Pacientes Atendidos</h2>
      <p class="lead">
        Vea la información de los pacientes.
      </p>
    </div>

    <div class="row g-5">
      <div class="col-md-5 col-lg-4 order-md-last">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-primary">Pacientes</span>
          <span class="badge bg-primary rounded-pill">{{
            lstPacientesAtendidos.length
            }}</span>
        </h4>
        <!-- ToDo: Hace de esto un componente -->
        <ul class="list-group mb-3">
          <li *ngFor="let usr of lstPacientesAtendidos;let i = index" class="list-group-item d-flex justify-content-between lh-sm"
            (click)="seleccionarUsuario(i)" appHighLigth="" >
            <div>
              <h6 class="my-0">{{ usr.nombre }}, {{ usr.apellido }}</h6>
              <small class="text-muted">{{ usr.email }}</small>
              <h6 class="text-muted">{{ usr.perfil.toUpperCase() }}</h6>

            </div>
          </li>
        </ul>
      </div>
      <div class="col-md-7 col-lg-8">
        <h4 class="mb-3">Información del Usuario</h4>
        <div class="form needs-validation" *ngIf="pacienteSeleccionado">
          <div class="row g-3">
            <div class="col-sm-6">
              <label for="nombre" class="form-label">Nombre</label>
              <input type="text" class="form-control" [(ngModel)]="pacienteSeleccionado.nombre" id="nombre" placeholder="" value="" />
            </div>

            <div class="col-sm-6">
              <label for="apellido" class="form-label">Apellido</label>
              <input type="text" class="form-control" [(ngModel)]="pacienteSeleccionado.apellido" id="apellido" placeholder="" value="" />
            </div>

            <div class="col-12">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" [(ngModel)]="pacienteSeleccionado.email" id="email" placeholder="you@example.com" />
            </div>

            <div class="col-6">
              <label for="dni" class="form-label">DNI</label>
              <input type="text" class="form-control" [(ngModel)]="pacienteSeleccionado.dni" id="dni" placeholder="99999999" />
            </div>

            <div class="col-6">
              <label for="edad" class="form-label">Edad</label>
              <input type="text" class="form-control" [(ngModel)]="pacienteSeleccionado.edad" id="edad" placeholder="Edad" />
            </div>
            <div class="col-12">
              <img [src]="pacienteSeleccionado.foto" alt="imagen de perfil" class="imagen" />
            </div>
            <!--  Paciente -->
            <hr class="my-4" />
              <div class="col-6">
                <label for="obrasocial" class="form-label">Obra Social</label>
                <input type="text" class="form-control" [(ngModel)]="pacienteSeleccionado.obraSocial" id="obrasocial"
                  placeholder="Obra Social" />
              </div>

              <div class="col-12" >
                <img [src]="pacienteSeleccionado.fotoPaciente" alt="foto paciente" class="imagen" />
              </div>
          </div>
          <div >
            <button class="w-100 btn btn-outline-info btn-lg" (click)="irAHistoriaClinica()"><i class="bi bi-file-earmark-medical"></i> Ver Historia Clinica</button>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<script src="form-validation.js"></script>
